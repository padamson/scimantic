# Scimantic Ontology

This directory contains the generated ontology artifacts for Scimantic.

> **Source**: The ontology is defined using [LinkML](https://linkml.io) in [../schema/scimantic.yaml](../schema/scimantic.yaml)
>
> **Specification**: See [Ontology Specification](../../docs/03-how-specifications/) for detailed documentation
>
> **Philosophy**: See [Vision](../../docs/00-why-vision.md) and [Architecture](../../docs/01-what-architecture.md) for design rationale

## Generated Artifacts

All files in this directory are **automatically generated** from the LinkML schema. Do not edit them directly.

### `scimantic.ttl`

The Scimantic Ontology in Turtle format, generated from LinkML schema.

- **URI**: `http://scimantic.io`
- **Format**: RDF/OWL in Turtle syntax
- **Dependencies**: PROV-O, URREF, DCAT, DOAP, SOSA, Nanopub
- **Generated by**: `linkml-convert` via `gen-all` script

### `shacl/scimantic-shapes.ttl`

SHACL validation shapes for validating knowledge graphs against the Scimantic schema.

- **Format**: SHACL constraints in Turtle syntax
- **Purpose**: Validate `project.ttl` files created by researchers
- **Generated by**: `gen-shacl` via `gen-all` script

Defines constraints for:
- Research entities (Question, Evidence, Hypothesis, etc.)
- PROV-O activities (QuestionFormation, EvidenceExtraction, etc.)
- Provenance relationships
- Uncertainty annotations

### `catalog-v001.xml`

Standard OWL Catalog file for ontology URI resolution.

- **Purpose**: Maps ontology URIs to local file paths
- **Used by**: Protégé, Widoco, and other OWL tools
- **Ensures**: Tools can find imported SHACL shapes without internet access

### `widoco.conf`

Configuration for [Widoco](https://github.com/dgarijo/Widoco) HTML documentation generation.

- **Used by**: CI/CD pipeline to generate ontology documentation
- **Output**: `public/ontology.html` and related files

## Development Workflow

### 1. Edit the LinkML Schema

The **single source of truth** for the ontology is:

```
../schema/scimantic.yaml
```

Edit this file to modify the ontology (add classes, properties, constraints, etc.)

### 2. Regenerate Artifacts

After editing the schema, regenerate all artifacts:

```bash
cd scimantic-core
uv run gen-all
```

This generates:
- `ontology/scimantic.ttl` - OWL/RDF ontology
- `ontology/shacl/scimantic-shapes.ttl` - SHACL validation shapes
- `src/scimantic/models.py` - Python dataclasses
- `../public/*` - HTML documentation (via Widoco)
- `../ontology_graph.png` - Mermaid diagram

### 3. Validate the Ontology

Validate the generated ontology against SHACL shapes:

```bash
cd scimantic-core
uv run pyshacl -s ontology/shacl/scimantic-shapes.ttl ontology/scimantic.ttl
```

### 4. Commit Changes

Pre-commit hooks will automatically:
- Regenerate artifacts if schema changes
- Validate with SHACL
- Update visualization diagrams

## Validation

Knowledge graphs created with Scimantic are validated using the SHACL shapes in `shacl/`.

**Example validation:**
```bash
# Validate a research project
pyshacl -s ontology/shacl/scimantic-shapes.ttl examples/scimantic-paper/project.ttl
```

## Links

- [LinkML Documentation](https://linkml.io/)
- [W3C PROV-O Specification](https://www.w3.org/TR/prov-o/)
- [SHACL Specification](https://www.w3.org/TR/shacl/)
- [Widoco Documentation](https://github.com/dgarijo/Widoco)
